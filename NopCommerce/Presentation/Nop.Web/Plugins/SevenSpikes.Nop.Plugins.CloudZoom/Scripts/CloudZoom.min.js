!function(t,o){t(document).ready(function(){function o(o){o&&o.options.autoInside>0&&(t(window).width()<o.options.autoInside&&(o.options.captionPosition="bottom"),t(window).resize(function(){t(window).width()<=o.options.autoInside?o.options.captionPosition="bottom":o.options.captionPosition="top"}))}CloudZoom.quickStart();var a=t(".cloudZoomAdjustPictureOnProductAttributeValueChange"),i=t(".cloudZoomPictureThumbnailsInCarouselData");if("true"===a.attr("data-isIntegratedByWidget")){var e=t("#sevenspikes-cloud-zoom"),n=e.attr("data-defaultImageContainerSelector");if(void 0==n||""===n)return;var r,l;t(n).each(function(){t(this).find("#sevenspikes-cloud-zoom").length<=0?r=t(this):l=t(this)}),null!=r&&null!=l&&(r.replaceWith(l),l.show()),function(o){var a=o.attr("data-selectorOfTheParentElementOfTheCloudZoomWindow");if(void 0!=a&&""!==a){var i=t(a);if(void 0!=i){var e=o.attr("data-zoomWindowElementId");if(void 0==e||""===e)return;var n="<div id="+e+' style="position: absolute;"></div>';t(i).prepend(n)}}}(e),t.event.trigger({type:"nopCloudZoomLoadCompletedEvent"});var u=e.attr("data-zoomWindowElementId");t("#cloudZoomImage").bind("cloudzoom_start_zoom",function(){if(u){var o=e.attr("data-zoom-window-width"),a=e.attr("data-zoom-window-height");t("#"+u).width(o),t("#"+u).height(a)}t(".gallery .ribbon-wrapper .ribbon-position").hide()}),t("#cloudZoomImage").bind("cloudzoom_end_zoom",function(){u&&(t("#"+u).css("width",""),t("#"+u).css("height","")),t(".gallery .ribbon-wrapper .ribbon-position").show()})}if(t("#cloudZoomImage").bind("cloudzoom_ready",function(){o(t("#cloudZoomImage").data("CloudZoom"))}),i.length>0){var d=parseInt(i.attr("data-numVisible"))||5,c=parseInt(i.attr("data-numScrollable"))||d||5,s="true"===i.attr("data-vertical"),p="true"===i.attr("data-rtl"),m=i.attr("data-responsive-breakpoints-for-thumbnails"),g={},h=!s&&p;try{g=JSON.parse(m);for(var f=0;f<g.length;f++)g[f].settings.vertical||(g[f].settings.rtl=p)}catch(t){console.log("Invalid carousel breakpoints setting value!")}t("#picture-thumbs-carousel").slick({rtl:h,infinite:!0,vertical:s,slidesToShow:d,slidesToScroll:c,easing:"swing",draggable:!1,responsive:g})}t(".cloudZoomEnableClickToZoom").length>0&&t("#cloudZoomImage").bind("click",function(){t(this).data("CloudZoom").closeZoom();var o=new Array,a=function(t,o){this.src=t,this.title=o};t(".picture-thumbs a.cloudzoom-gallery").length<1&&o.push(new a(t(".picture a.picture-link").attr("data-full-image-url"),t(".picture a.picture-link img").attr("title"))),t(".picture-thumbs a.cloudzoom-gallery").each(function(){t(this).parent().hasClass("slick-cloned")||o.push(new a(t(this).attr("data-full-image-url"),t(this).attr("title")))});for(var e=0,n=0;n<o.length;n++){var r=o[n].src.slice(0,-5);if(-1!==t(".picture a.picture-link img").attr("src").indexOf(r)){e=n;break}}return t.magnificPopup.open({items:o,type:"image",removalDelay:300,gallery:{enabled:!0,tPrev:i.attr("data-magnificpopup-prev"),tNext:i.attr("data-magnificpopup-next"),tCounter:i.attr("data-magnificpopup-counter")},tClose:i.attr("data-magnificpopup-close"),tLoading:i.attr("data-magnificpopup-loading")},e),!1}),t(document).on("product_attributes_changed",function(o){if(o.changedData&&o.changedData.pictureFullSizeUrl){var a=o.changedData.pictureFullSizeUrl;t('.cloudzoom-gallery[data-full-image-url="'+a+'"]').click(),t.event.trigger({type:"nopMainProductImageChanged",pictureDefaultSizeUrl:a,pictureFullSizeUrl:a})}})})}(jQuery,sevenSpikes);